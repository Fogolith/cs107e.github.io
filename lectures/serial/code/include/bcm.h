#ifndef BCM_DEFS
#define BCM_DEFS

// Nominal clock frequencies
#define F_OSC   19200000
#define F_PLLD 500000000

#define BCM_BASE  0x20000000

#define GPIO_BASE (BCM_BASE+0x200000)

#define GPIO_PAD  0x2010002C

#define CM_GP0CTL 0x20101070
#define CM_GP0DIV 0x20101074

#define CM_GP1CTL 0x20101078
#define CM_GP1DIV 0x2010107C

#define CM_GP2CTL 0x20101080
#define CM_GP2DIV 0x20101084

#define CM_PCMCTL 0x20101098
#define CM_PCMDIV 0x2010109C

#define CM_PWMCTL 0x201010A0
#define CM_PWMDIV 0x201010A4

#define CM_ENABLE  (1 << 4)
#define CM_FLIP    (1 << 6)
#define CM_BUSY    (1 << 7)
#define CM_MASH0   (0 << 9)
#define CM_MASH1   (1 << 9)
#define CM_MASH2   (2 << 9)
#define CM_MASH3   (3 << 9)

#define PWM_CTL    0x2020C000
#define PWM_STATUS 0x2020C004
#define PWM_DMAC   0x2020C008
#define PWM_FIFO   0x2020C018

#define PWM_FULL1 0x01

#define PWM0_RANGE 0x2020C010
#define PWM0_DATA  0x2020C014

#define PWM1_RANGE 0x2020C020
#define PWM1_DATA  0x2020C024

#define PWM0_ENABLE      0x0001
#define PWM0_SERIAL      0x0002
#define PWM0_REPEATFF    0x0004
#define PWM0_OFFSTATE    0x0008
#define PWM0_REVPOLARITY 0x0010
#define PWM0_USEFIFO     0x0020
#define PWM0_MARKSPACE   0x0080

#define PWM1_ENABLE      0x0100
#define PWM1_SERIAL      0x0200
#define PWM1_REPEATFF    0x0400
#define PWM1_OFFSTATE    0x0800
#define PWM1_REVPOLARITY 0x1000
#define PWM1_USEFIFO     0x2000
#define PWM1_MARKSPACE   0x8000

#define PCM_BASE      0x20203000
#define PCM_CS_A      0x20203000
#define PCM_FIFO_A    0x20203004
#define PCM_MODE_A    0x20203008
#define PCM_RXC_A     0x2020300C
#define PCM_TXC_A     0x20203010
#define PCM_DREQ_A    0x20203014
#define PCM_INTEN_A   0x20203018
#define PCM_INTSTC_A  0x2020301C
#define PCM_GRAY      0x20203020

#define PCM_CS_SYNC   (1 << 24)
#define PCM_CS_TXSYNC (1 << 13)
#define PCM_CS_TXTHR  (1 << 5)
#define PCM_CS_RXCLR  (1 << 4)
#define PCM_CS_TXCLR  (1 << 3)
#define PCM_CS_TXON   (1 << 2)
#define PCM_CS_EN     (1)

#define PCM_CS_TXTHR_10    2

#define PCM_MODE_FRXP (1 << 25)
#define PCM_MODE_FSM  (1 << 21)

#define PCM_TXC_CH1EN  (1 << 30)

#define PCM_TXC_CH1WID_8      0
#define PCM_TXC_CH1WID (1 << 16)


#define AUX_ENABLES     0x20215004
#define AUX_MU_ENABLE   0x00000001
#define AUX_SPI0_ENABLE 0x00000002
#define AUX_SPI1_ENABLE 0x00000004

#define AUX_MU_UART     0x20215040

#define AUX_MU_DATA_REG 0x20215040

#define AUX_MU_IER_REG  0x20215044

#define AUX_MU_IIR_REG  0x20215048
#define AUX_MU_IIR_RX_FIFO_CLEAR  0x00000002
#define AUX_MU_IIR_TX_FIFO_CLEAR  0x00000004
#define AUX_MU_IIR_RX_FIFO_ENABLE 0x00000008
#define AUX_MU_IIR_TX_FIFO_ENABLE 0x00000004

#define AUX_MU_LCR_REG  0x2021504C
#define AUX_MU_LCR_8BIT 0x00000003

#define AUX_MU_MCR_REG  0x20215050

#define AUX_MU_LSR_REG  0x20215054
#define AUX_MU_LSR_RX_READY  0x00000001
#define AUX_MU_LSR_TX_READY  0x00000010
#define AUX_MU_LSR_TX_EMPTY  0x00000020

#define AUX_MU_MSR_REG  0x20215058

#define AUX_MU_SCRATCH  0x2021505C

#define AUX_MU_CNTL_REG 0x20215060
#define AUX_MU_CNTL_TX_ENABLE 0x00000002
#define AUX_MU_CNTL_RX_ENABLE 0x00000001

#define AUX_MU_STAT_REG 0x20215064

#define AUX_MU_BAUD_REG 0x20215068

#define SYSTIMERCLO   0x20003004

#define ARM_TIMER_LOD 0x2000B400
#define ARM_TIMER_VAL 0x2000B404
#define ARM_TIMER_CTL 0x2000B408
#define ARM_TIMER_CLI 0x2000B40C
#define ARM_TIMER_RIS 0x2000B410
#define ARM_TIMER_MIS 0x2000B414
#define ARM_TIMER_RLD 0x2000B418
#define ARM_TIMER_DIV 0x2000B41C
#define ARM_TIMER_CNT 0x2000B420

#define IRQ_BASIC 0x2000B200
#define IRQ_PEND1 0x2000B204
#define IRQ_PEND2 0x2000B208
#define IRQ_FIQ_CONTROL 0x2000B210
#define IRQ_ENABLE_BASIC 0x2000B218
#define IRQ_DISABLE_BASIC 0x2000B224

#define MAILBOX_BASE   0x2000B880
#define MAILBOX_READ   0x2000B880
#define MAILBOX_POLL   0x2000B890
#define MAILBOX_SEND   0x2000B894
#define MAILBOX_STATUS 0x2000B898
#define MAILBOX_CONFIG 0x2000B89C
#define MAILBOX_WRITE  0x2000B8A0

#define MAILBOX_WRITE_READY  0x80000000
#define MAILBOX_READ_READY   0x40000000

#define BM_PASSWORD 0x5A000000


#endif
